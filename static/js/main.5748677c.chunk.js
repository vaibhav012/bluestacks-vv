(this.webpackJsonpbluestacks_challenge=this.webpackJsonpbluestacks_challenge||[]).push([[0],{236:function(e,a,n){e.exports=n.p+"static/media/logo.0edceb8c.png"},267:function(e,a,n){e.exports=n(506)},272:function(e,a,n){},273:function(e,a,n){},274:function(e,a,n){},275:function(e,a,n){},485:function(e,a,n){},506:function(e,a,n){"use strict";n.r(a);var t=n(0),c=n.n(t),i=n(32),r=n.n(i),l=(n(272),n(273),n(236)),s=n.n(l);n(274);var m=function(){return c.a.createElement("div",{className:"header-container"},c.a.createElement("img",{src:s.a,className:"header-icon",alt:"bluestacks_logo"}))},o=n(257),u=n(117),g=n(43),p=n(44),d=n(45),h=n(46),E=n(114),f=n(517),v=n(515),C=n(518),b=n(519),k=n(516),N=(n(275),n(240)),w=n.n(N);n(276);var y=function(e){e.value;var a=e.onClick;return c.a.createElement("span",{className:"campaign-schedule",onClick:a},c.a.createElement("img",{src:"./calendar.png",className:"campaign-inline-icons",alt:"campaign-dateicon"}),"Schedule Again")},D=function(e){Object(h.a)(n,e);var a=Object(E.a)(n);function n(e){var t;return Object(g.a)(this,n),(t=a.call(this,e)).inputElement=[],t.state={selectedCampaign:{price:[]}},t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(e,a){var n=this;return e.campaigns.forEach((function(e,a){n.inputElement[a]=c.a.createRef()})),!0}},{key:"showPricingModal",value:function(e){this.setState({selectedCampaign:this.props.campaigns[e],showPricing:!0})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"campaign-container"},c.a.createElement(C.a,{singleLine:!0},c.a.createElement(C.a.Header,null,c.a.createElement(C.a.Row,null,c.a.createElement(C.a.HeaderCell,null,"DATE"),c.a.createElement(C.a.HeaderCell,null,"CAMPAIGN"),c.a.createElement(C.a.HeaderCell,null,"VIEW"),c.a.createElement(C.a.HeaderCell,null,"ACTIONS"))),c.a.createElement(C.a.Body,null,this.props.campaigns.map((function(a,n){return c.a.createElement(C.a.Row,{key:n},c.a.createElement(C.a.Cell,{unstackable:!0},c.a.createElement("p",{className:"campaign-date"},a.dateShow),c.a.createElement("p",{className:"campaign-duration"},Math.abs(a.duration)+" "+(a.duration>0?"Days Ago":"Days Ahead")," ")),c.a.createElement(C.a.Cell,{unstackable:!0},c.a.createElement("img",{src:a.image_url,className:"campaign-image",alt:"campaign-logo"}),c.a.createElement("div",null,c.a.createElement("p",{className:"campaign-name"},a.name),c.a.createElement("p",{className:"campaign-region"},a.region))),c.a.createElement(C.a.Cell,{unstackable:!0},c.a.createElement("span",{className:"campaign-pricing",onClick:function(){return e.showPricingModal(n)}},c.a.createElement("img",{src:"./price.png",className:"campaign-inline-icons",alt:"campaign-pricingicon"}),"View Pricing")),c.a.createElement(C.a.Cell,{stackable:!0},c.a.createElement("span",{className:"campaign-csv"},c.a.createElement("img",{src:"./file.png",className:"campaign-inline-icons",alt:"campaign-csvicon"}),"CSV"),c.a.createElement("span",{className:"campaign-report"},c.a.createElement("img",{src:"./statistics-report.png",className:"campaign-inline-icons",alt:"campaign-reporticon"}),"Report"),c.a.createElement(w.a,{selected:new Date(a.createdOn),onChange:function(n){return e.props.dateChange(n,a.index)},customInput:c.a.createElement(y,null)})))})))),0===this.props.campaigns.length?c.a.createElement(b.a,{style:{textAlign:"center"}},c.a.createElement(b.a.Header,null,"No campaigns in this category! CHECK BACK LATER")):null,c.a.createElement(k.a,{size:"mini",open:this.state.showPricing,onClose:function(){return e.setState({showPricing:!1})}},c.a.createElement(k.a.Content,null,c.a.createElement("img",{src:this.state.selectedCampaign.image_url,className:"campaign-pricing-image",alt:"campaign-logo"}),c.a.createElement("div",null,c.a.createElement("p",{className:"campaign-pricing-name"},this.state.selectedCampaign.name),c.a.createElement("p",{className:"campaign-pricing-region"},this.state.selectedCampaign.region)),c.a.createElement("p",{className:"campaign-pricing-heading"},"Pricing"),this.state.selectedCampaign.price.map((function(e){return c.a.createElement("div",{className:"campaign-pricing-price-container"},c.a.createElement("p",null,e.name),c.a.createElement("p",null,"$ "+e.value))})),c.a.createElement("div",{className:"campaign-pricing-close-button",onClick:function(){return e.setState({showPricing:!1})}},"CLOSE"))))}}]),n}(c.a.Component),O=(n(485),n(83)),A=n.n(O),S={apiKey:"AIzaSyBB9VRqhr5X0QcAiuGrvnBVlkULwPxyCqw",authDomain:"bluestacks-assignment.firebaseapp.com",databaseURL:"https://bluestacks-assignment.firebaseio.com",projectId:"bluestacks-assignment",storageBucket:"bluestacks-assignment.appspot.com",messagingSenderId:"992613303499",appId:"1:992613303499:web:c508de132f17f21187474e",measurementId:"G-90ND8B3E91"},P=function(e){Object(h.a)(n,e);var a=Object(E.a)(n);function n(e){var t;return Object(g.a)(this,n),(t=a.call(this,e)).tabChange=function(e,a){console.log(e),t.setState({value:a})},A.a.apps.length||A.a.initializeApp(S),t.state={value:0,campaigns:[],loading:!0},t.dateChange=t.dateChange.bind(Object(d.a)(t)),t}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this,a=[];A.a.database().ref("campaigns/").on("value",(function(n){a=n.val(),a=e.parseCampaigns(a),e.setState({campaigns:a,loading:!1})}),(function(e){console.error(e)}))}},{key:"parseCampaigns",value:function(e){var a=this;return e.map((function(e,n){return Object(u.a)(Object(u.a)({},e),{},{index:n,dateShow:a.formatDate(e.createdOn),duration:a.getDateDuration(e.createdOn)})}))}},{key:"formatDate",value:function(e){return["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"][(e=new Date(e)).getMonth()]+" "+e.getFullYear()+", "+e.getDate()}},{key:"getDateDuration",value:function(e){var a=new Date;return e=new Date(e),Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5)}},{key:"dateChange",value:function(e,a){var n=Object(o.a)(this.state.campaigns);n[a].createdOn=Number(e),this.setState({campaigns:this.parseCampaigns(n)});var t=Object(u.a)({},n[a]);delete t.datePrint,delete t.duration,delete t.index,A.a.database().ref("campaigns/"+a).set(t)}},{key:"render",value:function(){var e=this,a=[{menuItem:"Upcoming Campaigns",render:function(){return c.a.createElement(f.a.Pane,null,c.a.createElement(D,{campaigns:e.state.campaigns.filter((function(e){return e.duration<0})),dateChange:e.dateChange}))}},{menuItem:"Live Campaigns",render:function(){return c.a.createElement(f.a.Pane,null,c.a.createElement(D,{campaigns:e.state.campaigns.filter((function(e){return 0===e.duration})),dateChange:e.dateChange}))}},{menuItem:"Past Campaigns",render:function(){return c.a.createElement(f.a.Pane,null,c.a.createElement(D,{campaigns:e.state.campaigns.filter((function(e){return e.duration>0})),dateChange:e.dateChange}))}}];return c.a.createElement("div",{className:"navigation-container"},this.state.loading?c.a.createElement(v.a,{active:!0,inline:"centered"}):c.a.createElement(f.a,{menu:{color:"orange",secondary:!0,pointing:!0},panes:a}))}}]),n}(c.a.Component);var j=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(m,null),c.a.createElement("div",{className:"body-container"},c.a.createElement("h1",null,"Manage Campaigns"),c.a.createElement(P,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[267,1,2]]]);
//# sourceMappingURL=main.5748677c.chunk.js.map